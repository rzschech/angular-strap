/**
 * angular-strap
 * @version v2.2.4 - 2015-07-01
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com> (https://github.com/mgcrea)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
'use strict';angular.module('mgcrea.ngStrap.dropdown',['mgcrea.ngStrap.tooltip']).provider('$dropdown',function(){var e=this.defaults={animation:'am-fade',prefixClass:'dropdown',prefixEvent:'dropdown',placement:'bottom-left',template:'dropdown/dropdown.tpl.html',trigger:'click',container:!1,keyboard:!0,html:!1,delay:0};this.$get=['$window','$rootScope','$tooltip','$timeout',function(n,t,o,r){function a(n,a){function d(e){return e.target!==n[0]?e.target!==n[0]&&s.hide():void 0}function c(){return p.target||n.parent()}{var s={},p=angular.extend({},e,a);s.$scope=p.scope&&p.scope.$new()||t.$new()}p.inlineTemplate===!0&&(p.inlineTemplate='.dropdown-menu'),p.inlineTemplate&&!p.target&&(p.target=n.parent()),s=o(n,p),s.$onKeyDown=function(e){if(/(38|40)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var n=angular.element(s.$element[0].querySelectorAll('li:not(.divider) a'));if(n.length){var t;angular.forEach(n,function(e,n){l&&l.call(e,':focus')&&(t=n)}),38===e.keyCode&&t>0?t--:40===e.keyCode&&t<n.length-1?t++:angular.isUndefined(t)&&(t=0),n.eq(t)[0].focus()}}};var u=s.show;s.show=function(){var e=c();(e.hasClass('dropdown')||e.hasClass('dropup'))&&e.addClass('open'),u(),r(function(){p.keyboard&&s.$element&&s.$element.on('keydown',s.$onKeyDown),i.on('click',d)},0,!1)};var f=s.hide;s.hide=function(){var e=s.$element;if(s.$isShown&&(f(),!s.$isShown)){e&&e.off('mousedown',s.$onMouseDown),i.off('click',d);var n=c();(n.hasClass('dropdown')||n.hasClass('dropup'))&&n.removeClass('open')}};var m=s.destroy;return s.destroy=function(){i.off('click',d),m()},s}var i=angular.element(n.document.body),l=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return a}]}).directive('bsDropdown',['$window','$sce','$dropdown',function(e,n,t){return{restrict:'EAC',scope:!0,link:function(e,n,o,r){var a={scope:e};angular.forEach(['placement','container','delay','target','trigger','keyboard','html','animation','template','id','inlineTemplate'],function(e){angular.isDefined(o[e])&&(a[e]=o[e])});var i=/^(false|0|)$/i;angular.forEach(['html','container'],function(e){angular.isDefined(o[e])&&i.test(o[e])&&(a[e]=!1)}),o.bsDropdown?e.$watch(o.bsDropdown,function(n,t){e.content=n},!0):a.inlineTemplate=a.inlineTemplate||!0,o.bsShow&&e.$watch(o.bsShow,function(e,n){l&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(dropdown),?/i)),e===!0?l.show():l.hide())});var l=t(n,a);e.$on('$destroy',function(){l&&l.destroy(),a=null,l=null})}}}]);
//# sourceMappingURL=../modules/dropdown.min.js.map